services:
  vaultwarden:
    image: vaultwarden/server:testing@sha256:2242416cc1436f3a3ca3a6c1104d0f384924e9690ec437f85284e3f165364e8c
    container_name: vaultwarden
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    networks:
      - proxy_default
    environment:
      DOMAIN: "https://vault.vanes.dev"
      SIGNUPS_ALLOWED: "false"
      SSO_ENABLED: "false"
      ADMIN_TOKEN: $vaultwarden_admin_token
      TZ: "Europe/Amsterdam"
    volumes:
      - /mnt/user/appdata/vaultwarden/data:/data
    labels:
      glance.name: "Bitwarden"
      glance.description: ""
      glance.url: "https://vault.vanes.dev"
      glance.icon: "si:bitwarden"
      glance.id: "bitwarden"
      glance.hide: "false"

networks:
  proxy_default:
    external: true
